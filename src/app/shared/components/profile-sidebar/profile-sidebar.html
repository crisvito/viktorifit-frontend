<button
  aria-label="button"
  (click)="toggleSidebar()"
  class="md:hidden fixed top-4 left-4 z-50 p-2 bg-[#F3F3F3] rounded-md shadow-md border border-[#E2E2E2] text-[#6A9700]"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="w-6 h-6"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M4 6h16M4 12h16M4 18h16"
    />
  </svg>
</button>

<div
  *ngIf="isSidebarOpen"
  (click)="closeSidebar()"
  class="fixed inset-0 bg-black/50 z-40 md:hidden transition-opacity"
></div>

<div
  [class.translate-x-0]="isSidebarOpen"
  [class.-translate-x-[120%]]="!isSidebarOpen"
  class="bg-[#F3F3F3] border border-[#E2E2E2] flex flex-col font-poppins rounded-xl fixed top-4 left-4 bottom-4 w-64 z-50 shadow-xl transition-transform duration-300 ease-in-out md:translate-x-0 md:w-66 md:rounded-[11px] md:shadow-md md:sticky md:top-7 md:h-[93vh] md:m-6 md:mt-7 p-7 pt-8"
>
  <div class="flex items-center justify-between mb-8 pl-2">
    <h2 class="text-[24px] font-bold">Settings</h2>

    <button
      aria-label="button"
      (click)="closeSidebar()"
      class="md:hidden text-gray-500 hover:text-red-500"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="w-6 h-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>
  </div>

  <div class="flex flex-col gap-2 flex-1 overflow-y-auto">
    <div class="">
      <a
        *ngFor="let item of menuItems"
        [routerLink]="['/profile', item.route]"
        routerLinkActive="!text-[#6A9700] font-medium"
        [routerLinkActiveOptions]="{ exact: true }"
        (click)="closeSidebar()"
        class="flex items-center gap-5 px-5 py-5 rounded-xl text-[#808080] hover:text-[#6A9700] transition cursor-pointer group"
      >
        <div
          class="w-6 h-6 bg-current transition-colors duration-200 focus-background"
          [style.mask-image]="'url(/layout/profile/' + item.route + '.svg)'"
        ></div>

        <span class="text-[14px]">{{ item.label }}</span>
      </a>

      <button
        (click)="openLogoutModal()"
        class="flex items-center gap-5 px-5 py-5 text-[#F60C0C] hover:bg-red-50 transition cursor-pointer group w-full"
      >
        <div class="w-6 h-6 bg-current focus-background focus-background-logout"></div>
        <span class="text-[14px] font-medium">Log Out</span>
      </button>
    </div>
  </div>
</div>

<!-- LOGOUT CONFIRM MODAL -->
<div
  *ngIf="showLogoutModal"
  class="fixed inset-0 z-100 flex items-center justify-center bg-black/85"
>
  <div class="bg-white rounded-xl w-full max-w-sm p-6 shadow-xl animate-fade-in">
    <h3 class="text-lg font-bold text-gray-800 mb-3">Confirm Logout</h3>

    <p class="text-sm text-gray-600 mb-6">Are you sure you want to log out?</p>

    <div class="flex justify-end gap-3">
      <button
        (click)="closeLogoutModal()"
        class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300"
      >
        Cancel
      </button>

      <button
        (click)="confirmLogout()"
        class="px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600"
      >
        Yes, Logout
      </button>
    </div>
  </div>
</div>

<div class="mb-8 font-poppins text-gray-800 px-5 min-[568px]:px-10 md:px-0 md:pr-5">
  <div class="relative mb-6 md:mb-8 overflow-hidden rounded-2xl bg-black text-white">
    <div class="absolute inset-0 -bottom-20 z-0 opacity-100">
      <img
        src="/pages/suggestion/city.png"
        alt="City Background"
        class="w-full h-full object-cover object-bottom grayscale"
      />
      <div class="absolute inset-0 bg-linear-to-r from-black via-black/50 to-transparent"></div>
    </div>

    <div class="absolute right-0 bottom-0 z-10 h-full md:w-[35%] flex items-center">
        <img
          [src]="workoutImage"
          [alt]="workoutTitle"
          class="h-[200%] scale-[150%] righ w-auto max-w-none object-contain object-bottom-right"
        />
    </div>
    
    <div class=" z-10 absolute -top-30 -left-10 w-70 h-70 rounded-full pointer-events-none
            [mask-image:radial-gradient(closest-side,transparent_70%,black_70%)]
            bg-gradient-to-bl from-[#2C2C2C] to-transparent">
    </div>

    <div class="relative z-20 p-6 md:p-12 w-full max-w-[65%] md:max-w-[70%]">
      <h1 class="text-[18px] md:text-[24px] font-semibold leading-tight">
        Hello <span class="text-[#C3F74A]">{{ userName }}</span
        >, today is <span class="text-white">{{ workoutTitle }}</span
        >!
      </h1>

      <p class="mt-3 text-xs md:text-sm text-gray-300 opacity-90 leading-relaxed font-light">
        {{ workoutDesc }}
      </p>
    </div>
  </div>

  <div class="grid grid-cols-1 gap-3 lg:grid-cols-12">
    <!-- Todays Plan -->
    <section class="lg:col-span-7 rounded-xl bg-white p-4 md:p-6 shadow-sm">
      <div class="mb-4 flex items-center justify-between">
        <h2 class="text-[20px] md:text-[24px] font-semibold">Today's Plan</h2>
      </div>

      <div
        class="w-full overflow-y-auto max-h-[280px] pr-2 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-[#C3F74A] [&::-webkit-scrollbar-thumb]:rounded-full"
      >
        <table class="w-full text-left border-collapse">
          <thead class="sticky top-0 z-10 bg-white">
            <tr class="text-[10px] md:text-[12px] text-gray-400 border-b border-gray-100">
              <th class="pb-4 pt-2 font-medium pl-0 md:pl-2 bg-white">Activity Information</th>
              <th class="pb-4 pt-2 font-medium text-center bg-white">Duration</th>
              <th class="pb-4 pt-2 font-medium text-center bg-white">Progress</th>
              <th class="pb-4 pt-2 font-medium text-center bg-white">Status</th>
            </tr>
          </thead>

          <tbody class="divide-y divide-gray-100">
            <tr *ngFor="let item of todayActivities" class="even:bg-gray-50 transition-colors">
              <td class="py-3 md:py-4 pl-0 md:pl-2">
                <div class="flex items-center gap-2 md:gap-4">
                  <div
                    class="h-9 w-9 md:h-12 md:w-12 shrink-0 overflow-hidden rounded-xl bg-gray-100"
                  >
                    <img
                      alt="image"
                      [src]="item.imageUrl"
                      [alt]="item.name"
                      class="h-full w-full object-cover"
                    />
                  </div>
                  <div class="flex flex-col items-start gap-0.5 md:gap-1">
                    <p class="font-semibold text-gray-800 text-[11px] md:text-[14px] leading-tight">
                      {{ item.name }}
                    </p>
                    <span
                      class="bg-[#C3F74A] text-[#425F00] text-[8px] md:text-[10px] px-2 py-0.5 rounded-full font-semibold"
                    >
                      {{ item.category }}
                    </span>
                  </div>
                </div>
              </td>

              <td class="text-center text-[10px] md:text-[12px] font-medium text-gray-600">
                {{ item.duration }} min
              </td>

              <td class="text-center text-[10px] md:text-[12px] font-medium text-gray-600">
                {{ item.progress }}%
              </td>

              <td class="text-center">
                <span
                  class="rounded-full whitespace-nowrap px-2 md:px-3 py-1 text-[9px] md:text-[10px] font-semibold inline-block min-w-[65px] md:min-w-20 text-center"
                  [ngClass]="getStatusColor(item.status)"
                >
                  {{ item.status }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="flex justify-end">
        <button
          class="mt-6 w-full md:w-1/2 text-sm rounded-xl bg-(--main-color) py-3 font-semibold text-gray-900 hover:bg-black hover:text-white hover:shadow-md transition-all"
        >
          More Information
        </button>
      </div>
    </section>

    <!-- Todays Progress -->
    <section
      class="relative overflow-hidden lg:col-span-5 rounded-xl bg-linear-to-t from-[#A9EA13] to-[#D2F57F] p-6 md:p-8 flex flex-col shadow-lg text-gray-800"
    >
      <h2 class="relative z-11 mb-4 md:mb-7 text-[20px] md:text-[24px] font-semibold">Today's Progress</h2>

      <div class=" z-10 absolute -top-30 -left-30 w-70 h-70 rounded-full pointer-events-none
            [mask-image:radial-gradient(closest-side,transparent_70%,black_70%)]
            bg-gradient-to-bl from-[#AFE338]/60 to-transparent">
      </div>

      <div class=" z-10 absolute -bottom-30 -right-30 w-70 h-70 rounded-full pointer-events-none
            [mask-image:radial-gradient(closest-side,transparent_70%,black_70%)]
            bg-gradient-to-br from-[#BDED50] to-transparent">
      </div>

      <div class="relative z-11 flex flex-row md:flex-col items-center justify-between md:justify-center gap-4">
        <div class="relative flex items-center justify-center shrink-0">
          <svg class="h-32 w-32 md:h-50 md:w-50 transform -rotate-90" viewBox="0 0 36 36">
            <defs>
              <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#719E08" />
                <stop offset="100%" stop-color="#9FE401" />
              </linearGradient>
            </defs>

            <path
              class="text-white/30"
              d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
              fill="none"
              stroke="currentColor"
              stroke-width="4"
            />

            <path
              class="text-white transition-all duration-1000 ease-out"
              [attr.stroke-dasharray]="'100, 100'"
              [attr.stroke-dashoffset]="circleDashOffset"
              d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
              fill="none"
              stroke="url(#progressGradient)"
              stroke-width="4"
              stroke-linecap="round"
            />
          </svg>

          <div class="absolute flex flex-col text-center">
            <span class="text-2xl md:text-4xl font-semibold text-[#2E4200]">
              {{ completedWorkouts }}/{{ totalWorkouts }}
            </span>
            <span class="text-[10px] md:text-[14px] font-bold text-[#4E7000] mt-0.5 md:mt-1"
              >Workouts</span
            >
          </div>
        </div>

        <div class="flex flex-col md:grid md:grid-cols-2 w-full gap-3 md:gap-4 text-center">
          <div
            class="rounded-xl bg-white/50 p-3 md:p-4 backdrop-blur-sm flex-1 flex flex-col justify-center"
          >
            <p class="text-[10px] md:text-[12px] font-semibold text-[#4E7000] mb-0.5 md:mb-1">
              Your Duration
            </p>
            <p class="text-lg md:text-xl font-semibold text-[#2E4200]">
              {{ currentDuration }} <span class="text-xs md:text-sm font-normal">min</span>
            </p>
          </div>

          <div
            class="rounded-xl bg-white/50 p-3 md:p-4 backdrop-blur-sm flex-1 flex flex-col justify-center"
          >
            <p class="text-[10px] md:text-[12px] font-semibold text-[#4E7000] mb-0.5 md:mb-1">
              Target Duration
            </p>
            <p class="text-lg md:text-xl font-semibold text-[#2E4200]">
              {{ targetDuration }} <span class="text-xs md:text-sm font-normal">min</span>
            </p>
          </div>
        </div>
      </div>
    </section>

    <section
      class="lg:col-span-5 rounded-xl bg-black p-4 md:p-6 text-white shadow-sm flex flex-col relative overflow-hidden h-auto"
    >
      <div
        class="absolute bottom-0 right-0 h-48 w-48 md:h-64 md:w-64 rounded-full border-[20] md:border-[30] border-gray-800/50 translate-x-1/4 translate-y-1/4 pointer-events-none"
      ></div>
      <div
        class="absolute -top-16 -left-16 h-48 w-48 md:h-64 md:w-64 rounded-full border-[20] md:border-[30] border-gray-800/50 pointer-events-none"
      ></div>

      <div class="flex items-center gap-2 mb-4 md:mb-6 z-10">
        <h2 class="text-lg md:text-xl font-semibold">Body Condition</h2>
      </div>

      <div class="flex flex-1 z-10 gap-3">
        <div class="flex flex-col w-1/2 gap-4 md:gap-4 pr-1">
          <div class="flex gap-4 md:gap-7">
            <div>
              <p class="text-[10px] md:text-xs text-gray-400 mb-0.5 font-['Poppins']">Height</p>
              <p class="text-sm md:text-base font-medium">{{ bodyCondition.height }} cm</p>
            </div>
            <div>
              <p class="text-[10px] md:text-xs text-gray-400 mb-0.5 font-['Poppins']">Weight</p>
              <p class="text-sm md:text-base font-medium">{{ bodyCondition.weight }} kg</p>
            </div>
          </div>

          <div>
            <p class="text-[10px] md:text-xs text-gray-400 mb-0.5 font-['Poppins']">Category</p>
            <p class="text-sm md:text-base font-medium text-lime-400">
              {{ bodyCondition.bmiCategory }}
            </p>
          </div>

          <div>
            <p class="text-[10px] md:text-xs text-gray-400 mb-0.5 font-['Poppins']">Body Fat</p>
            <p class="text-sm md:text-base font-medium">{{ bodyCondition.bodyFat }} %</p>
          </div>

          <div>
            <p class="text-[10px] md:text-xs text-gray-400 mb-0.5 font-['Poppins']">Fitness Goal</p>
            <p class="text-sm md:text-base font-medium">{{ bodyCondition.goal }}</p>
          </div>
        </div>

        <div class="w-1/2 flex items-start justify-center relative h-[60%]">
          <div class="w-full h-full flex items-start justify-center relative z-10">
            <img
              [src]="bodyCondition.bodyFatImage"
              [alt]="bodyCondition.bodyFatCategory"
              class="h-full w-auto object-contain object-top"
            />
            </div>
        </div>
      </div>

      <button
        class="z-10 mt-4 text-sm bg-(--main-color) py-3 font-semibold text-gray-900 border-2 border-transparent hover:bg-black hover:text-white hover:shadow-md hover:border-gray-800 transition rounded-xl"
      >
        More Information
      </button>
    </section>

    <!-- Statistic -->
    <section
      class="lg:col-span-7 rounded-xl bg-white p-4 md:p-6 shadow-sm flex flex-col justify-between"
    >
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg md:text-xl font-semibold flex items-center gap-2">Statistic</h2>
        <a
          routerLink="/dashboard/statistics"
          class="text-xs md:text-sm font-medium text-gray-500 hover:text-black flex items-center gap-1 cursor-pointer"
        >
          More Info <span>â€º </span>
        </a>
      </div>

      <div class="flex flex-wrap items-center gap-4 md:gap-6 mb-4 md:mb-6 pl-1 md:pl-2">
        <div class="flex items-center gap-2">
          <span
            class="h-2.5 w-2.5 md:h-3 md:w-3 rounded-full"
            [style.backgroundColor]="getActiveTab()?.color"
          ></span>
          <span class="text-[10px] md:text-xs text-gray-600">Your {{ getLabel() }}</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="h-2.5 w-2.5 md:h-3 md:w-3 rounded-full bg-gray-400"></span>
          <span class="text-[10px] md:text-xs text-gray-600">Target {{ getLabel() }}</span>
        </div>
      </div>

      <div class="relative h-52 md:h-60 w-full">
        <canvas baseChart [data]="lineChartData" [options]="lineChartOptions" [type]="'line'">
        </canvas>
      </div>

      <div class="mt-4 md:mt-6 w-full overflow-x-auto pb-2 scrollbar-hide">
        <div
          class="mt-4 md:mt-6 w-full overflow-x-auto pb-4 [&::-webkit-scrollbar]:h-1.5 [&::-webkit-scrollbar-track]:bg-transparent [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded-full hover:[&::-webkit-scrollbar-thumb]:bg-gray-400"
        >
          <div class="flex xl:grid xl:grid-cols-3 gap-3 md:gap-4 min-w-max xl:min-w-0 px-1">
            <button
              *ngFor="let tab of tabs"
              (click)="setChartType($any(tab.id))"
              [class]="
                selectedChart === tab.id
                  ? 'bg-[#C3F74A] border border-[#8AC500]/30 shadow-md ring-1 ring-[#8AC500]/20'
                  : 'bg-transparent opacity-60 border border-gray-100 hover:opacity-100 hover:bg-gray-50 hover:border-gray-300 hover:shadow-sm'
              "
              class="relative shrink-0 min-w-[135px] xl:w-auto p-2 md:p-3 rounded-xl transition-all duration-300 flex items-center gap-2 md:gap-3 text-left"
            >
              <div
                [class]="'bg-' + tab.color + '-100 text-' + tab.color + '-600'"
                class="flex h-8 w-8 md:h-10 md:w-10 shrink-0 items-center justify-center rounded-lg md:rounded-xl text-base md:text-xl transition-colors"
              >
                {{ tab.icon }}
              </div>

              <div class="whitespace-nowrap">
                <p class="text-[9px] md:text-[10px] text-gray-500 leading-tight">
                  {{ tab.label }}
                </p>
                <p class="text-xs md:text-[16px] font-semibold text-gray-800">
                  {{ tab.value }}
                </p>
              </div>
            </button>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Workout -->
  <section class="mt-8">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-semibold">Suggestions To You</h2>
      <a routerLink="/dashboard/workout-lists" class="text-sm text-gray-500 hover:text-black cursor-pointer">
        View All >
      </a>
    </div>

    <div class="mt-2 relative z-0">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3.5">
        <!-- [routerLink]="['/workout-detail', item.id]" -->
        <div
          *ngFor="let item of workoutslist"
          class="bg-white rounded-2xl border border-gray-200 shadow-sm transition-all duration-300 p-3 hover:bg-[#F0FFCC] hover:border-[0.5px] hover:border-[#DBF3A3] hover:shadow-lg cursor-pointer group"
        >
          <div class="h-44 w-full rounded-2xl overflow-hidden bg-gray-100 relative">
            <img
              alt="image"
              [src]="item.image"
              [alt]="item.title"
              class="w-full h-full object-cover"
            />
          </div>

          <div class="px-1 pt-3 pb-1">
            <h3 class="font-semibold text-base pb-1 text-black">{{ item.title }}</h3>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <div class="bg-[#A3E635] px-3 py-1 rounded-full flex items-center gap-1">
                  <img
                    *ngIf="item.type === 'Cardio'"
                    src="/pages/workout-lists/workout-run.svg"
                    alt="Cardio"
                    class="w-3 h-3"
                  />
                  <img
                    *ngIf="item.type === 'Muscular'"
                    src="/pages/workout-lists/muscular.svg"
                    alt="Muscular"
                    class="w-3 h-3"
                  />
                  <span class="text-[10px] font-medium tracking-wide text-[#4E7000]">{{
                    item.type
                  }}</span>
                </div>
                <div class="h-4 w-px bg-gray-300 group-hover:bg-black/20 transition-colors"></div>
                <span
                  class="text-xs font-medium text-gray-500 group-hover:text-black transition-colors"
                  >{{ item.duration }} Minutes</span
                >
              </div>
              <button
                aria-label="button"
                class="w-10 h-10 bg-[#A3E635] rounded-full flex items-center justify-center transition shadow-md -mt-7 border-[0.62px] border-[#6A9700]"
              >
                <img
                  src="/pages/workout-lists/play.svg"
                  class="w-5 h-5 ml-0.5 text-[#4E7000]"
                  alt=""
                />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<div class="h-full flex">
  <div class="w-[43%] bg-(--main-color)"></div>
  <div class="w-[57%] flex flex-col gap-8 py-20 px-32">
    <div class="flex flex-col items-center">
      <h2 class="text-[48px] font-bold">Sign In</h2>
      <p class="text-[16px]">Welcome, Sign in and lets continue your journey!</p>
    </div>
    <form #loginForm="ngForm" class="flex flex-col gap-3">
      <div class="flex flex-col gap-2">
        <label for="username" class="font-medium text-black">Email / Username</label>
        <input
          type="text"
          id="username"
          name="username"
          [(ngModel)]="dataLogin.username"
          #username="ngModel"
          placeholder="e.g johngreen or johngreen@abc.com"
          [class.border-red-500]="getErrorMessage(username, '')"
          [class.focus:border-red-500]="getErrorMessage(username, '')"
          [class.focus:ring-red-200]="getErrorMessage(username, '')"
          required
          class="rounded-sm bg-gray-100 border border-gray-300 px-4 py-4 text-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition placeholder-gray-400"
        />
        <span class="text-red-500 text-xs h-4 font-bold">
          {{ getErrorMessage(username, 'Email/Username') }}
        </span>
      </div>

      <div class="flex flex-col gap-2">
        <label for="password" class="font-medium text-gray-700">Password</label>
        <div class="relative flex items-center group">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            name="password"
            [(ngModel)]="dataLogin.password"
            #password="ngModel"
            placeholder="*********"
            required
            [class.border-red-500]="getErrorMessage(password, '')"
            [class.focus:border-red-500]="getErrorMessage(password, '')"
            [class.focus:ring-red-200]="getErrorMessage(password, '')"
            class="w-full rounded-sm bg-gray-100 border border-gray-300 px-4 py-4 text-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition placeholder-gray-400"
          />
          <button
            type="button"
            aria-label="Toggle password visibility"
            (click)="togglePassword()"
            class="absolute right-4 text-gray-400 hover:text-gray-600 focus:outline-none invisible group-focus-within:visible"
          >
            <svg
              *ngIf="!showPassword"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
            <svg
              *ngIf="showPassword"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"
              ></path>
              <line x1="1" y1="1" x2="23" y2="23"></line>
            </svg>
          </button>
        </div>
        <div class="flex flex-row-reverse justify-between">
          <span class="text-end text-blue-500 underline text-[12px]">Forgot your password?</span>
          <span class="text-red-500 text-xs h-4 font-bold">
            {{ getErrorMessage(password, 'Password') }}
          </span>
        </div>
      </div>

      <div class="flex flex-col gap-2">
        <app-button
          extraClass="w-full !rounded-sm !text-[18px] !font-medium !mt-5"
          (click)="onLogin(loginForm)"
          [class.opacity-70]="isLoading"
          [class.pointer-events-none]="isLoading"
        >
          {{ isLoading ? 'Loading...' : 'Sign In' }}
        </app-button>
        <span class="text-[12px] text-center text-gray-400">
          Don't have an account?
          <a routerLink="/register" class="underline text-blue-500">Sign Up</a>
        </span>
      </div>
    </form>
  </div>
</div>

<!-- Activation Modal -->
<div
  *ngIf="showActivationModal"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black/85"
>
  <div class="bg-white rounded-xl shadow-lg w-full max-w-md p-6 animate-fade-in">
    <h2 class="text-lg font-bold text-gray-800 mb-3">Account Not Activated</h2>

    <p class="text-sm text-gray-600 mb-6">
      {{ activationMessage }}
    </p>

    <div class="flex justify-end gap-3">
      <button
        type="button"
        class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 cursor-pointer"
        (click)="closeActivationModal()"
      >
        Close
      </button>
    </div>
  </div>
</div>
